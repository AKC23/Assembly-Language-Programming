.MODEL SMALL
.STACK 100H
.DATA


INPUTMSG DB 'INPUT : $' 
 
OUTPUTMSG DB 0DH,0AH,'OUTPUT : $'
 
 
.CODE
MAIN PROC
 MOV AX,@DATA
 MOV DS,AX 
 
 MOV AH,9
 LEA DX,INPUTMSG
 INT 21H
 
 MOV AH,1
 XOR CX,CX
 
 START:
 INT 21H
 CMP AL,0DH 
 JE ENTERED_PRESSED
 INC CX 
 PUSH AX
 JMP START 
 
 ENTERED_PRESSED:

 XOR AX,AX
 XOR BX,BX
 MOV SI,CX
 
 POP AX
 POP BX
 POP CX
 
 PUSH CX
 PUSH BX
 PUSH AX 
 
 MOV  DI,CX
 MOV  CX,SI 

 MOV AH,9
 LEA DX,OUTPUTMSG
 INT 21H
 
  PRINT: 
  POP DX
  MOV AH,2
  INT 21H
  LOOP PRINT

  MOV CX,DI
 
 EXIT:
 MOV AH,4CH
 INT 21H
 MAIN ENDP
END MAIN